TYPEMAP
MR::IProto::XS  T_PTROBJ_IP

INPUT
T_PTROBJ_IP
    if (sv_derived_from($arg, \"${ntype}\")) {
        if (SvPOK($arg)) {
            dMY_CXT;
            HE *he = hv_fetch_ent(MY_CXT.singletons, $arg, 0, 0);
            $var = he ? HeVAL(he) : NULL;
        } else {
            $var = $arg;
        }
    } else
        Perl_croak(aTHX_ \"$var is not of type ${ntype}\");

OUTPUT
T_PTROBJ_IP
    $arg = $var;
